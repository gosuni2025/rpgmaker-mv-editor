# TouchCameraControl — 터치 카메라 조작

**파일**: `js/plugins/TouchCameraControl.js`
**용도**: 3D 모드 전용

## 기능 요약

3D 모드에서 터치 또는 마우스 드래그로 카메라를 자유롭게 조작합니다.
또한 카메라 yaw(좌우 회전)에 따라 캐릭터 스프라이트의 방향(프레임)을 자동으로 보정하여, 어떤 각도에서도 캐릭터가 올바른 방향을 향하도록 합니다 (HD-2D 스타일).

## 조작 방법

| 조작 | 동작 |
|------|------|
| 한 손가락 드래그 (모바일) | 카메라 yaw/tilt 회전 |
| 마우스 드래그 | 카메라 yaw/tilt 회전 |
| 두 손가락 핀치 (모바일) | 줌 인/아웃 |
| 마우스 휠 | 줌 인/아웃 (옵션) |
| 같은 위치 탭/클릭 | 이동 목적지 지정 (원래 동작 유지) |

탭과 드래그 구분은 `Drag Threshold` (기본값 12px) 이내 이동은 탭으로 처리합니다.

## 파라미터

| 파라미터 | 기본값 | 설명 |
|----------|--------|------|
| Drag Threshold | 12 | 탭으로 인식되는 최대 이동 거리 (px) |
| Rotation Speed | 0.3 | 카메라 회전 속도 (도/px) |
| Tilt Min | 20 | 카메라 최소 틸트 각도 (도) |
| Tilt Max | 80 | 카메라 최대 틸트 각도 (도) |
| Zoom Min | 0.5 | 최소 줌 배율 |
| Zoom Max | 3.0 | 최대 줌 배율 |
| Zoom Speed | 0.01 | 핀치 줌 감도 |
| Mouse Wheel Zoom | true | 마우스 휠 줌 활성화 |
| Wheel Zoom Speed | 0.1 | 마우스 휠 줌 감도 |

## 캐릭터 방향 자동 보정

카메라가 회전하면 `Sprite_Character.prototype.characterPatternY`를 오버라이드하여, 카메라 yaw 값에서 캐릭터가 상대적으로 향하는 방향을 계산하고 올바른 스프라이트 행(프레임)을 선택합니다.

**예외 처리**: `!` (오브젝트 캐릭터) 또는 `$` (빅 캐릭터) 접두어가 붙은 이미지는 고정 방향 이미지이므로 보정을 건너뜁니다.

## 주의사항

- **3D 모드 전용** — 2D 모드에서는 동작하지 않습니다.
- Mode3D 플러그인과 함께 사용해야 합니다.
